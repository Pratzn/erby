<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Page Title</title>
    <link rel="stylesheet" href="./library/bootstrap/css/bootstrap.min.css">
    <link href="./styles/index.css" rel="stylesheet">
</head>
<body>
<div th:if="${message}">
    <h2 th:text="${message}"/>
</div>
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Background</a>
    </nav>
    <div class="container-fluid">
        <h1>This is a Heading</h1>
        <p>This is a paragraph.</p>
        <div class="img-show">
           <div class="load-img"></div>
        </div>
        <!-- <button type="button" class="btn btn-success">Success</button> -->
        <div class="renderImg"></div>
    </div>

    <script src="./library/jquery/jquery-3.3.1.min.js"></script>
    <script src="./library/bootstrap/js/bootstrap.min.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/


        $(function(){

            var setRenderImg = ""
            // var imgArr = ['bg-01.jpg', 'bg-02.jpg', 'bg-03.jpg', 'bg-04.jpg', 'bg-05.jpg', 'bg-06.jpg', 'bg-07.jpg']
            var imgArr = /*[[${imageString}]]*/ null;

            imgArr.forEach(function(element) {
                var url = 'http://localhost/assets/'
                console.log(element);
                setRenderImg += `<img src="${url}${element}" alt="${element}" class="setImg rounded-circle">`
            });

            $('.renderImg').html(setRenderImg)

            $('.setImg').on('click', function() {
                var url = $(this).attr('src')
                var urlImg = `${url}?${Math.random()}`
                var txt = `<image class='setBackground' xlink:href="${urlImg}" x="-150" y="0" height="512px" preserveAspectRatio="xMaxYMid meet"/>`
                console.log("click backgraound", txt)
                $('pattern#changeBackground').html(txt)
            })

        });

        $('.btn-success').on('click', function(){
            var urlImg = `http://localhost/assets/bg-01.jpg?${Math.random()}`
            var txt = `<image class='setBackground' xlink:href="${urlImg}" x="0" y="0" height="650px" />`
            console.log("click backgraound", txt)
            $('pattern#changeBackground').html(txt)
        })

        $('.img-show').load("http://localhost/assets/image.svg", function (){
            console.log("successed")
        });

        $('pattern#changeBackground').on('click', function() {
            console.log("background")
        })



        /*]]>*/
    </script>
</body>
    
</html>